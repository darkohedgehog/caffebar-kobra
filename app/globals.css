@import "tailwindcss";

/* =========================================================
   KOBRA DESIGN SYSTEM – CORE VARIABLES
   ========================================================= */
:root {
  /* TEXT */
  --foreground: #ecfdf5;        /* off-white, prijatno za oči */

  /* KOBRA CORE COLORS */
  --kobra-dark: #021b12;        /* skoro crna zelena (osnova) */
  --kobra-emerald: #22c55e;     /* primarni akcenat */
  --kobra-teal: #0f766e;        /* sekundarni akcenat */

  /* BACKGROUND GRADIENT STEPS */
  --bg-1: var(--kobra-dark);
  --bg-2: #063d2b;              /* tamna smaragd */
  --bg-3: #0b6b4a;              /* srednja zelena */
  --bg-4: var(--kobra-emerald);

  /* GLOW */
  --kobra-glow: rgba(34, 197, 94, 0.6);
  --kobra-glow-soft: rgba(16, 185, 129, 0.25);

  /* OVERLAY (čitljivost teksta) */
  --overlay-strong: rgba(0, 0, 0, 0.45);
  --overlay-soft: rgba(0, 0, 0, 0.25);
}

/* =========================================================
   BASE LAYOUT
   ========================================================= */
html,
body {
  height: 100%;
}

body {
  min-height: 100vh;
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;

  /* KOBRA BACKGROUND:
     - suptilan glow
     - spori animirani gradient
  */
  background:
    radial-gradient(
      circle at 20% 15%,
      var(--kobra-glow-soft),
      transparent 55%
    ),
    radial-gradient(
      circle at 80% 25%,
      rgba(16, 185, 129, 0.18),
      transparent 55%
    ),
    radial-gradient(
      circle at 50% 85%,
      rgba(34, 197, 94, 0.12),
      transparent 60%
    ),
    linear-gradient(
      120deg,
      var(--bg-1),
      var(--bg-2),
      var(--bg-3),
      var(--bg-2),
      var(--bg-1)
    );

  background-size: 100% 100%, 100% 100%, 100% 100%, 300% 300%;
  animation: kobraGradient 18s ease-in-out infinite;

  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  overflow-x: hidden;
  position: relative;

  /* ✅ stabilan stacking context (posebno iOS Safari) */
  isolation: isolate;
}

/* ✅ Sve što je direktno u body ide iznad pozadine */
body > * {
  position: relative;
  z-index: 1;
}

/* =========================================================
   FILM OVERLAY – stabilan kontrast za cjenik
   (Safari fix: bez z-index:-1)
   ========================================================= */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;

  /* ✅ umesto -1 */
  z-index: 0;

  background:
    linear-gradient(
      180deg,
      var(--overlay-strong),
      var(--overlay-soft)
    ),
    radial-gradient(
      circle at top,
      rgba(0, 0, 0, 0.55),
      transparent 60%
    );
}

/* =========================================================
   GRAIN / NOISE – premium izgled + manje bandinga
   (Safari fix: bez z-index:-1)
   ========================================================= */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;

  /* ✅ umesto -1 */
  z-index: 0;

  opacity: 0.08;

  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
  background-size: 220px 220px;
}

/* =========================================================
   ANIMATION
   ========================================================= */
@keyframes kobraGradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* =========================================================
   ACCESSIBILITY – reduce motion
   ========================================================= */
@media (prefers-reduced-motion: reduce) {
  body {
    animation: none;
    background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%;
  }
}

/* =========================================================
   PRINT
   ========================================================= */
@media print {
  /* Ukini animacije i background */
  * {
    animation: none !important;
    transition: none !important;
  }

  body {
    background: #fff !important;
    color: #000 !important;
  }

  /* Sakrij UI stvari koje ne treba štampati */
  header,
  footer,
  #pwa-install-banner,
  #back-to-top,
  .no-print {
    display: none !important;
  }

  /* Skini blur i tamne kartice */
  .print-card,
  .backdrop-blur-md {
    backdrop-filter: none !important;
  }

  /* Neka kartice budu “papir” */
  .print-card {
    border: 1px solid #ddd !important;
    background: #fff !important;
    box-shadow: none !important;
  }

  /* Spreči lomljenje stavki */
  section {
    break-inside: avoid;
    page-break-inside: avoid;
  }
}